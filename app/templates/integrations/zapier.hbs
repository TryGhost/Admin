<section class="gh-canvas">
    <GhCanvasHeader class="gh-canvas-header">
        <h2 class="gh-canvas-title" data-test-screen-title>
            <LinkTo @route="integrations" data-test-link="integrations-back">Integrations</LinkTo>
            <span>{{svg-jar "arrow-right"}}</span>
            Zapier
        </h2>
    </GhCanvasHeader>

    <section class="view-container bt b--lightgrey-d1 pt5">
        <section class="app-grid">
            <div class="app-cell">
                <div class="bg-white mr3 display flex items-center justify-center br-pill shadow-1 pa3 dark-no-shadow">
                    <img class="app-icon" src="assets/img/zapier.svg" />
                </div>
            </div>
            <div class="app-cell">
                <h3>Zapier</h3>
                <p>Automation for your favourite apps</p>
            </div>
        </section>

        <div class="m15 mt4">
            <table class="ma0 shadow-1 bg-grouped-table br3" style="table-layout: fixed">
                <tbody>
                    <tr class="bb b--lightgrey">
                        <td class="pa3 w50 fw7 v-top">Admin API key</td>
                        <td class="pa0">
                            <div class="pa3 relative flex items-center {{unless this.copyAdminKey.isRunning "hide-child-instant"}}">
                                <span class="midgrey truncate" data-test-text="admin-key">
                                    {{this.integration.adminKey.secret}}
                                </span>
                                <div class="absolute top-2 right-2 flex items-stretch child">
                                    <button type="button" {{action "confirmRegenerateKeyModal" this.integration.adminKey}} class="ba b--lightgrey-d1 br3 pa1 pl2 pr2 flex items-center mr2 bg-white" data-tooltip="Regenerate">
                                        {{svg-jar "reload" class="w4 h4 stroke-midgrey"}}
                                    </button>
                                    <button type="button" {{action (perform this.copyAdminKey)}} class="bg-black-70 f8 pa1 pr3 pl3 br3 white fw4 flex items-center">
                                        {{#if this.copyAdminKey.isRunning}}
                                        {{svg-jar "check-circle" class="w3 v-mid mr2 stroke-white"}} Copied
                                        {{else}}
                                        Copy
                                        {{/if}}
                                    </button>
                                </div>
                            </div>
                            {{#if (eq this.regeneratedKeyType this.integration.adminKey.type)}}
                                <div class="green nt3 mb2 pl3"> Admin API Key was successfully regenerated </div>
                            {{/if}}
                        </td>
                    </tr>
                    <tr>
                        <td class="pa3 w50 fw7">API URL</td>
                        <td class="pa0 truncate">
                            <div class="pa3 relative truncate {{unless this.copyApiUrl.isRunning "hide-child-instant"}}">
                                <span class="midgrey" data-test-text="api-url">
                                    {{this.apiUrl}}
                                </span>
                                <div class="absolute top-1 right-2">
                                    <div class="pt1 pr3 pb1 pl3 bg-black-70 child br3 f8 nudge-top--4 nudge-right--1">
                                        <button type="button" {{action (perform this.copyApiUrl)}} class="white fw4 flex items-center">
                                            {{#if this.copyApiUrl.isRunning}}
                                                {{svg-jar "check-circle" class="w3 v-mid mr2"}} Copied
                                            {{else}}
                                                Copy
                                            {{/if}}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="mt12" id="zapier-toggle">
            <div class="gh-setting-content gh-setting-content--no-action">
                <div class="gh-setting-title">Zapier templates</div>
                <div class="gh-setting-desc mt1">Explore pre-built templates for common automation tasks</div>
                <div class="gh-setting-content-extended">                    
                    <div class="apps-grid gh-settings-zapier-templates">
                        <div class="apps-grid-cell">
                            <article class="apps-card-app">
                                <div class="apps-card-left">
                                    <div class="flex items-center">
                                        {{svg-jar "ghost-squircle" class="w8 h8"}}
                                        {{svg-jar "arrow-right" class="fill-midgrey w4 ml2"}}
                                        <figure class="apps-card-app-icon" style="background-image:url(assets/img/twitter.svg);background-size:32px;"></figure>
                                    </div>
                                    <div class="apps-card-meta">
                                        <h3 class="apps-card-app-title">Share new posts to Twitter</h3>
                                    </div>
                                </div>
                                <div class="gh-card-right">
                                    <a href="https://zapier.com/app/editor/template/50909" target="_blank" rel="noopener" class="gh-btn gh-btn-outline zapier-template-link"><span>Use this Zap</span></a>
                                </div>
                            </article>
                        </div>
                        <div class="apps-grid-cell">
                            <article class="apps-card-app">
                                <div class="apps-card-left">
                                    <div class="flex items-center">
                                        {{svg-jar "ghost-squircle" class="w8 h8"}}
                                        {{svg-jar "arrow-right" class="fill-midgrey w4 ml2"}}
                                        <figure class="apps-card-app-icon" style="background-image:url(assets/img/slackicon.png);background-size:30px;"></figure>
                                    </div>
                                    <div class="apps-card-meta">
                                        <h3 class="apps-card-app-title">Share scheduled posts with your team in Slack</h3>
                                    </div>
                                </div>
                                <div class="gh-card-right">
                                    <a href="https://zapier.com/app/editor/template/359499" target="_blank" rel="noopener" class="gh-btn gh-btn-outline zapier-template-link"><span>Use this Zap</span></a>
                                </div>
                            </article>
                        </div>
                        <div class="apps-grid-cell">
                            <article class="apps-card-app">
                                <div class="apps-card-left">
                                    <div class="flex items-center">
                                        {{svg-jar "ghost-squircle" class="w8 h8"}}
                                        {{svg-jar "arrow-right" class="fill-midgrey w4 ml2"}}
                                        <figure class="apps-card-app-icon" style="background-image:url(assets/img/patreon.svg);background-size:28px;"></figure>
                                    </div>
                                    <div class="apps-card-meta">
                                        <h3 class="apps-card-app-title">Connect Patreon to your Ghost membership site</h3>
                                    </div>
                                </div>
                                <div class="gh-card-right">
                                    <a href="https://zapier.com/app/editor/template/75801" target="_blank" rel="noopener" class="gh-btn gh-btn-outline zapier-template-link"><span>Use this Zap</span></a>
                                </div>
                            </article>
                        </div>
                        <div class="apps-grid-cell">
                            <article class="apps-card-app">
                                <div class="apps-card-left">
                                    <div class="flex items-center">
                                        {{svg-jar "ghost-squircle" class="w8 h8"}}
                                        {{svg-jar "arrow-right" class="fill-midgrey w4 ml2"}}
                                        <figure class="apps-card-app-icon" style="background-image:url(assets/img/zero-bounce.png);background-size:30px;"></figure>
                                    </div>
                                    <div class="apps-card-meta">
                                        <h3 class="apps-card-app-title">Protect email delivery with email verification</h3>
                                    </div>
                                </div>
                                <div class="gh-card-right">
                                    <a href="https://zapier.com/app/editor/template/359415" target="_blank" rel="noopener" class="gh-btn gh-btn-outline zapier-template-link"><span>Use this Zap</span></a>
                                </div>
                            </article>
                        </div>
                        <div class="apps-grid-cell">
                            <article class="apps-card-app">
                                <div class="apps-card-left">
                                    <div class="flex items-center">
                                        {{svg-jar "ghost-squircle" class="w8 h8"}}
                                        {{svg-jar "arrow-right" class="fill-midgrey w4 ml2"}}
                                        <figure class="apps-card-app-icon" style="background-image:url(assets/img/paypal.svg);background-size:26px;"></figure>
                                    </div>
                                    <div class="apps-card-meta">
                                        <h3 class="apps-card-app-title">Add members for successful sales in PayPal</h3>
                                    </div>
                                </div>
                                <div class="gh-card-right">
                                    <a href="https://zapier.com/app/editor/template/184423" target="_blank" rel="noopener" class="gh-btn gh-btn-outline zapier-template-link"><span>Use this Zap</span></a>
                                </div>
                            </article>
                        </div>
                        <div class="apps-grid-cell">
                            <article class="apps-card-app">
                                <div class="apps-card-left">
                                    <div class="flex items-center">
                                        {{svg-jar "ghost-squircle" class="w8 h8"}}
                                        {{svg-jar "arrow-right" class="fill-midgrey w4 ml2"}}
                                        <figure class="apps-card-app-icon" style="background-image:url(assets/img/paypal.svg);background-size:26px;"></figure>
                                    </div>
                                    <div class="apps-card-meta">
                                        <h3 class="apps-card-app-title">Unsubscribe members who cancel a subscription in PayPal</h3>
                                    </div>
                                </div>
                                <div class="gh-card-right">
                                    <a href="https://zapier.com/app/editor/template/359348" target="_blank" rel="noopener" class="gh-btn gh-btn-outline zapier-template-link"><span>Use this Zap</span></a>
                                </div>
                            </article>
                        </div>
                        <div class="apps-grid-cell">
                            <article class="apps-card-app">
                                <div class="apps-card-left">
                                    <div class="flex items-center">
                                        {{svg-jar "ghost-squircle" class="w8 h8"}}
                                        {{svg-jar "arrow-right" class="fill-midgrey w4 ml2"}}
                                        <figure class="apps-card-app-icon" style="background-image:url(assets/img/google-docs.svg);background-size:22px;"></figure>
                                    </div>
                                    <div class="apps-card-meta">
                                        <h3 class="apps-card-app-title">Send new post drafts from Google Docs to Ghost</h3>
                                    </div>
                                </div>
                                <div class="gh-card-right">
                                    <a href="https://zapier.com/app/editor/template/50924" target="_blank" rel="noopener" class="gh-btn gh-btn-outline zapier-template-link"><span>Use this Zap</span></a>
                                </div>
                            </article>
                        </div>
                        <div class="apps-grid-cell">
                            <article class="apps-card-app">
                                <div class="apps-card-left">
                                    <div class="flex items-center">
                                        {{svg-jar "ghost-squircle" class="w8 h8"}}
                                        {{svg-jar "arrow-right" class="fill-midgrey w4 ml2"}}
                                        <figure class="apps-card-app-icon" style="background-image:url(assets/img/typeform.svg);background-size:32px;"></figure>
                                    </div>
                                    <div class="apps-card-meta">
                                        <h3 class="apps-card-app-title">Survey new members using Typeform</h3>
                                    </div>
                                </div>
                                <div class="gh-card-right">
                                    <a href="https://zapier.com/app/editor/template/359407" target="_blank" rel="noopener" class="gh-btn gh-btn-outline zapier-template-link"><span>Use this Zap</span></a>
                                </div>
                            </article>
                        </div>
                        <div class="apps-grid-cell">
                            <article class="apps-card-app">
                                <div class="apps-card-left">
                                    <div class="flex items-center">
                                        {{svg-jar "ghost-squircle" class="w8 h8"}}
                                        {{svg-jar "arrow-right" class="fill-midgrey w4 ml2"}}
                                        <figure class="apps-card-app-icon" style="background-image:url(assets/img/mailchimp.svg);background-size:32px;"></figure>
                                    </div>
                                    <div class="apps-card-meta">
                                        <h3 class="apps-card-app-title">Sync email subscribers in Ghost + Mailchimp</h3>
                                    </div>
                                </div>
                                <div class="gh-card-right">
                                    <a href="https://zapier.com/app/editor/template/359342" target="_blank" rel="noopener" class="gh-btn gh-btn-outline zapier-template-link"><span>Use this Zap</span></a>
                                </div>
                            </article>
                        </div>
                    </div>

                    <div class="zapier-footer">
                        <a href="https://zapier.com/apps/ghost/integrations?utm_medium=partner_api&utm_source=widget&utm_campaign=Widget" target="_blank" rel="noopener"><span>See more Ghost integrations powered by</span> <figure style="background-image:url(assets/img/zapier-logo.svg); background-size: 42px;"></figure></a>
                    </div>

                </div>
            </div>
        </div>
    </section>
</section>

{{#if this.showRegenerateKeyModal}}
    <GhFullscreenModal @modal="regenerate-key"
        @model={{hash
            apiKey=this.selectedApiKey
            integration=this.integration
            internalIntegration="zapier"
        }}
        @confirm={{action "regenerateKey"}}
        @close={{action "cancelRegenerateKeyModal"}}
        @modifier="action wide" />
{{/if}}
