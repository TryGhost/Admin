{{#if (eq @filter.type 'label')}}
    <GhMemberLabelInput
        @onChange={{fn this.setLabelsFilterValue @filter.type @filter.id}}
        @onLabelEdit={{@onLabelEdit}}
        @triggerId="label-input"
        @labels={{@filter.value}}
        @allowCreation={{false}}
        @allowEdit={{true}}
    />

{{else if (eq @filter.type 'product')}}
    <div class="relative">
        <Tiers::SegmentSelect
            @onChange={{fn this.setProductsFilterValue @filter.type @filter.id}}
            @tiers={{this.productFilterValue}}
            @renderInPlace={{true}}
            @hideOptionsWhenAllSelected={{true}}
        />
    </div>

{{else if (eq @filter.type 'subscribed')}}
    <span class="gh-select">
        <OneWaySelect
            @value={{@filter.value}}
            @options={{this.availableFilterOptions.subscribed}}
            @optionValuePath="name"
            @optionLabelPath="label"
            @optionTargetPath="name"
            @update={{fn this.setFilterValue @filter.type @filter.id}}
            data-test-select="members-filter-value"
        />
        {{svg-jar "arrow-down-small"}}
    </span>

{{else if (eq @filter.type 'last_seen_at')}}
    <GhDatePicker
        class="gh-date-picker-with-shortcuts"
        @value={{@filter.value}}
        @maxDate={{now}}
        @maxDateError="Must be in the past"
        @onChange={{fn @setFilterValue @filter.type @filter.id}}
        data-test-input="members-filter-value"
        as |datepicker|
    >
        <div class="gh-date-picker-sh-container">
            <div class="gh-date-picker-sh-calendar">
                <datepicker.Nav />
                <datepicker.Days />
            </div>
            <div class="gh-date-picker-shortcuts">
                <h4>Jump to date</h4>
                <ol>
                    <li><button type="button" {{on "click" (fn datepicker.actions.select (moment-site-tz) datepicker)}}>Today</button></li>
                    <li><button type="button" {{on "click" (fn datepicker.actions.select (moment-subtract (moment-site-tz) 1 precision="days") datepicker)}}>Yesterday</button></li>
                    <li><button type="button" {{on "click" (fn datepicker.actions.select (moment-subtract (moment-site-tz) 7 precision="days") datepicker)}}>7 days ago</button></li>
                    <li><button type="button" {{on "click" (fn datepicker.actions.select (moment-subtract (moment-site-tz) 30 precision="days") datepicker)}}>30 days ago</button></li>
                    <li><button type="button" {{on "click" (fn datepicker.actions.select (moment-subtract (moment-site-tz) 90 precision="days") datepicker)}}>90 days ago</button></li>
                </ol>
            </div>
        </div>
    </GhDatePicker>

{{else if (eq @filter.type 'created_at')}}
    <GhDatePicker
        @value={{@filter.value}}
        @maxDate={{now}}
        @maxDateError="Must be in the past"
        @onChange={{fn @setFilterValue @filter.type @filter.id}}
        data-test-input="members-filter-value"
    />

{{else if (eq @filter.type 'status')}}
    <span class="gh-select">
        <OneWaySelect
            @value={{@filter.value}}
            @options={{this.availableFilterOptions.status}}
            @optionValuePath="name"
            @optionLabelPath="label"
            @optionTargetPath="name"
            @update={{fn this.setFilterValue @filter.type @filter.id}}
            data-test-select="members-filter-value"
        />
        {{svg-jar "arrow-down-small"}}
    </span>

{{else if (eq @filter.type 'email_count')}}
    <input
        type="number"
        value={{@filter.value}}
        class="gh-input"
        aria-label="Email count filter value"
        {{on "input" (fn this.setInputFilterValue @filter.type @filter.id)}}
        {{on "blur" (fn this.updateInputFilterValue @filter.type @filter.id)}}
        {{on "keypress" (fn this.updateInputFilterValueOnEnter @filter.type @filter.id)}}
        data-test-input="members-filter-value"
    />

{{else if (eq @filter.type 'email_opened_count')}}
    <input
        type="number"
        value={{@filter.value}}
        class="gh-input"
        aria-label="Email opened count filter value"
        {{on "input" (fn this.setInputFilterValue @filter.type @filter.id)}}
        {{on "blur" (fn this.updateInputFilterValue @filter.type @filter.id)}}
        {{on "keypress" (fn this.updateInputFilterValueOnEnter @filter.type @filter.id)}}
        data-test-input="members-filter-value"
    />

{{else if (eq @filter.type 'email_open_rate')}}
    <div class="relative">
        <span class="gh-input-percentage-label">%</span>
        <input
            type="number"
            value={{@filter.value}}
            class="gh-input"
            aria-label="Email open rate filter value"
            {{on "input" (fn this.setInputFilterValue @filter.type @filter.id)}}
            {{on "blur" (fn this.updateInputFilterValue @filter.type @filter.id)}}
            {{on "keypress" (fn this.updateInputFilterValueOnEnter @filter.type @filter.id)}}
        data-test-input="members-filter-value"
        />
    </div>

{{else if (eq @filter.type 'subscriptions.plan_interval')}}
    <span class="gh-select">
        <OneWaySelect
            @value={{@filter.value}}
            @options={{this.availableFilterOptions.subscriptionPriceInterval}}
            @optionValuePath="name"
            @optionLabelPath="label"
            @optionTargetPath="name"
            @update={{fn this.setFilterValue @filter.type @filter.id}}
            data-test-select="members-filter-value"
        />
        {{svg-jar "arrow-down-small"}}
    </span>

{{else if (eq @filter.type 'subscriptions.status')}}
    <span class="gh-select">
        <OneWaySelect
            @value={{@filter.value}}
            @options={{this.availableFilterOptions.subscriptionStripeStatus}}
            @optionValuePath="name"
            @optionLabelPath="label"
            @optionTargetPath="name"
            @update={{fn this.setFilterValue @filter.type @filter.id}}
            data-test-select="members-filter-value"
        />
        {{svg-jar "arrow-down-small"}}
    </span>

{{else if (eq @filter.type 'subscriptions.start_date')}}
    <GhDatePicker
        @value={{@filter.value}}
        @onChange={{fn @setFilterValue @filter.type @filter.id}}
        data-test-input="members-filter-value"
    />

{{else if (eq @filter.type 'subscriptions.current_period_end')}}
    <GhDatePicker
        @value={{@filter.value}}
        @onChange={{fn @setFilterValue @filter.type @filter.id}}
        data-test-input="members-filter-value"
    />

{{else}}
    <input
        type="text"
        value={{@filter.value}}
        name={{@filter.id}}
        class="gh-input"
        aria-label="{{@filter.id}} filter value"
        {{on "input" (fn this.setInputFilterValue @filter.type @filter.id)}}
        {{on "blur" (fn this.updateInputFilterValue @filter.type @filter.id)}}
        {{on "keypress" (fn this.updateInputFilterValueOnEnter @filter.type @filter.id)}}
    />
{{/if}}
